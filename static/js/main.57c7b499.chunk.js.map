{"version":3,"sources":["SunAndCloud.png","firebase.js","Components/SignIn.jsx","providers/UserProvider.jsx","Components/Application.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","firestore","provider","GoogleAuthProvider","signInWithGoogle","signInWithPopup","then","result","catch","error","console","log","generateUserDocument","user","additionalData","a","userRef","doc","uid","get","exists","email","displayName","photoURL","set","getUserDocument","userDocument","SignIn","useState","className","onClick","UserContext","createContext","Component","Application","database","App","TopNavBar","props","logout","event","signOut","render","state","signed","photo","currentUser","class","to","this","src","path","exact","component","Home","About","Contact","Profile","Messages","Login","Logout","document","title","onAuthStateChanged","setState","React","logo","alt","href","target","rel","repeat","match","ref","once","snapshot","potentialFriends","val","i","length","contacts","messages","setTimeout","authenticated","friends","f","on","display_name","profile_picture","active_chat","Object","keys","renderChatListItem","contact","lastMessage","activeChat","update","profiles","contactObj","id","renderChatList","chats","push","writeUserMessage","message","0","1","onKeyDown","key","inputValue","preventDefault","stopPropagation","renderChatFocus","contactRef","el","value","onChange","evt","updateInputValue","placeholder","users","snapshot0","data","snapshot2","scrollIntoView","behavior","block","inline","scrollToBottom","Boolean","window","location","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.57c7b499.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport { functions } from \"firebase\";\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport  { Redirect } from 'react-router-dom'\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCd05CA651nbJSjfG3a_XXxhth8zfQhYaM\",\r\n    authDomain: \"users-7ee42.firebaseapp.com\",\r\n    databaseURL: \"https://users-7ee42.firebaseio.com\",\r\n    projectId: \"users-7ee42\",\r\n    storageBucket: \"users-7ee42.appspot.com\",\r\n    messagingSenderId: \"385725692286\",\r\n    appId: \"1:385725692286:web:9a3c58753800fa97d4db2f\"\r\n  };\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\n\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\n/*provider.setCustomParameters({\r\n  hd: \"berkeley.edu\"\r\n});*/\r\nexport const signInWithGoogle = () => {\r\n  firebase.auth().signInWithPopup(provider)\r\n    .then(function(result) {\r\n        \r\n    })\r\n    .catch(function(error) {\r\n      console.log(\"Error signing in:\", error);\r\n    });\r\n};\r\n\r\nexport const generateUserDocument = async (user, additionalData) => {\r\n  if (!user) return;\r\n\r\n  const userRef = firestore.doc(`users/${user.uid}`);\r\n  const snapshot = await userRef.get();\r\n\r\n  if (!snapshot.exists) {\r\n    const { email, displayName, photoURL } = user;\r\n    try {\r\n      await userRef.set({\r\n        displayName,\r\n        email,\r\n        photoURL,\r\n        ...additionalData\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error creating user document\", error);\r\n    }\r\n  }\r\n  return getUserDocument(user.uid);\r\n};\r\n\r\nconst getUserDocument = async uid => {\r\n  if (!uid) return null;\r\n  try {\r\n    const userDocument = await firestore.doc(`users/${uid}`).get();\r\n\r\n    return {\r\n      uid,\r\n      userDocument\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error fetching user\", error);\r\n  }\r\n};\r\n\r\nconsole.log(getUserDocument(1));\r\n\r\n","import React, {useState} from \"react\";\r\nimport { Link } from \"@reach/router\";\r\nimport { signInWithGoogle } from \"../firebase\";\r\nimport { auth } from \"../firebase\";\r\n\r\n\r\nconst SignIn = () => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState(null);\r\n\r\n    const signInWithEmailAndPasswordHandler = (event,email, password) => {\r\n        event.preventDefault();\r\n        auth.signInWithEmailAndPassword(email, password).catch(error => {\r\n        setError(\"Error signing in with password and email!\");\r\n          console.error(\"Error signing in with password and email\", error);\r\n        });\r\n      };\r\n\r\n      const onChangeHandler = (event) => {\r\n          const {name, value} = event.currentTarget;\r\n\r\n          if(name === 'userEmail') {\r\n              setEmail(value);\r\n          }\r\n          else if(name === 'userPassword'){\r\n            setPassword(value);\r\n          }\r\n      };\r\n\r\n\r\n  return (\r\n    <div className=\"mt-8\">\r\n      <h1 className=\"text-3xl mb-2 text-center font-bold\">Sign In</h1>\r\n      <div className=\"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8\">\r\n        {error !== null && <div className = \"py-4 bg-red-600 w-full text-white text-center mb-3\">{error}</div>}\r\n        <br/>\r\n        <button\r\n          className=\"bg-red-500 hover:bg-red-600 w-full py-2 text-white\"\r\n          onClick={() => {\r\n            signInWithGoogle();\r\n          }}\r\n        >\r\n          Sign in with Google\r\n        </button>\r\n        <p className=\"text-center my-3\">\r\n          Log in with your @berkeley.edu email to continue. \r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import React, { Component, createContext } from \"react\";\r\nimport { auth, generateUserDocument } from \"../firebase.js\";\r\n\r\n\r\nexport const UserContext = createContext({ user: null });\r\n\r\nclass UserProvider extends Component {\r\n  state = {\r\n    user: null\r\n  };\r\n\r\n\r\n\r\n  componentDidMount = async () => {\r\n    auth.onAuthStateChanged(async userAuth => {\r\n      const user = await generateUserDocument(userAuth);\r\n      this.setState({ user });\r\n    });\r\n\r\n\r\n  };\r\n\r\n  render() {\r\n    const { user } = this.state;\r\n\r\n    return (\r\n      <UserContext.Provider value={user}>\r\n        {this.props.children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserProvider;\r\n","import React, { useContext } from \"react\";\r\nimport { Router } from \"@reach/router\";\r\nimport SignIn from \"./SignIn\";\r\nimport SignUp from \"./SignUp\";\r\nimport UserProvider from \"../providers/UserProvider\";\r\nimport ProfilePage from \"./ProfilePage\";\r\nimport { UserContext } from \"../providers/UserProvider\";\r\nimport PasswordReset from \"./PasswordReset\";\r\nfunction Application() {\r\n  const user = useContext(UserContext);\r\n  return (\r\n        user ?\r\n        <ProfilePage />\r\n      :\r\n        <Router>\r\n          <SignUp path=\"signUp\" />\r\n          <SignIn path=\"/\" />\r\n          <PasswordReset path = \"passwordReset\" />\r\n        </Router>\r\n\r\n  );\r\n}\r\n\r\nexport default Application;\r\n","import React, { useContext } from \"react\"\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport { browserHistory } from 'react-router';\r\nimport SignIn from \"./Components/SignIn\";\r\nimport SignUp from \"./Components/SignUp\";\r\nimport Application from \"./Components/Application\";\r\nimport UserProvider from \"./providers/UserProvider\";\r\nimport ProfilePage from \"./Components/ProfilePage\";\r\nimport { UserContext } from \"./providers/UserProvider\";\r\n// import React from 'react';\r\nimport logo from './SunAndCloud.png';\r\nimport './App.css';\r\nimport './firebase.js';\r\nimport { createBrowserHistory } from 'history';\r\n\r\nimport './nav.css';\r\nimport { Fragment } from \"react\";\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport { functions } from \"firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { signInWithGoogle } from \"./firebase\";\r\nimport { Redirect } from 'react-router-dom';\r\nvar database = firebase.database();\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <TopNavBar />\r\n    </div>\r\n//     <UserProvider>\r\n//   <Application />\r\n// <UserProvider />\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\nclass TopNavBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      signed: false,\r\n      photo: null\r\n    };\r\n    if (firebase.auth().currentUser) {\r\n      this.state = {\r\n        signed: true\r\n      };\r\n    }\r\n  }\r\n  \r\n  logout = (event) => {\r\n    firebase.auth().signOut();\r\n    this.render()\r\n  }\r\n  \r\n  render() {\r\n    return (<Router>\r\n      <main>\r\n        <nav class=\"top\">\r\n        <div class=\"top\">\r\n          <a class=\"top-child\"><Link to=\"/\">Home</Link></a>\r\n          <a class=\"top-child\"><Link to=\"/about\">About</Link></a>\r\n          <a class=\"top-child\"><Link to=\"/contact\">Contact</Link></a>\r\n          {this.state.signed && \r\n            <div><a class=\"top-child\"><Link to=\"/profile\">Profile</Link></a></div>\r\n          }\r\n          {this.state.signed && \r\n            <div><a class=\"top-child\"><Link to=\"/messages\">Messages</Link></a></div>\r\n          }\r\n          {!this.state.signed &&\r\n            <div class=\"button-div\"><Link to=\"/login\"><button>Login</button></Link></div>\r\n          }\r\n          {this.state.signed &&\r\n            <div class=\"profile-div\">\r\n              <Link class='grey' to=\"/profile\">\r\n                <img class=\"profile-img-head\" src={this.state.photo}/>\r\n                <p class=\"profile-top-right-name\">{firebase.auth().currentUser.displayName}</p>\r\n              </Link>\r\n            </div>\r\n          }\r\n        </div>\r\n        </nav>\r\n\r\n      <Route path=\"/\" exact component={Home} />\r\n      <Route path=\"/justamity\" exact component={Home} />\r\n      <Route path=\"/about\"  component={About} />\r\n      <Route path=\"/contact\"  component={Contact} />\r\n      <Route path=\"/profile\"  component={Profile} />\r\n      <Route path=\"/messages\"  component={Messages} />\r\n      <Route path=\"/login\"  component={Login} />\r\n      <Route path=\"/logout\"  component={Logout} />\r\n      </main>\r\n  </Router>)\r\n  }\r\n  \r\n  componentDidMount() {\r\n    document.title = \"JustAmity\";\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.setState({\r\n          signed: true,\r\n          photo: firebase.auth().currentUser.photoURL\r\n        });\r\n      } else {\r\n        this.setState({\r\n          signed: false,\r\n          photo: null\r\n        });\r\n      }\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n  }\r\n}\r\n\r\nclass Home extends React.Component {\r\n  render() {\r\n    return (\r\n      <header className=\"App-header\">\r\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n        <h2>JustAmity</h2>\r\n        <a className=\"App-link\" href=\"https://www.linkedin.com/in/jasmine-bae\" target=\"_blank\" rel=\"noopener noreferrer\">Check out our LinkedIn!</a>\r\n      </header>\r\n    );\r\n  }\r\n}  \r\n\r\nclass About extends React.Component {\r\n  render() {\r\n    return (\r\n      <p>Y{\"o\".repeat(10)}</p>\r\n    );\r\n  }\r\n}\r\n\r\nclass Profile extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      authenticated: false,\r\n      uid: null,\r\n      friends: 0,\r\n      match: null\r\n    };\r\n  }\r\n  \r\n  match = () => {\r\n    database.ref('matches').once('value').then((snapshot) => {\r\n      var potentialFriends = snapshot.val();\r\n      var match = null;\r\n      console.log(potentialFriends);\r\n      for (var i = 0; i < potentialFriends.length; i++) {\r\n        if (!(potentialFriends[i] === this.state.uid)) {\r\n          if (!potentialFriends[i] in this.state.contacts) {\r\n            match = potentialFriends[i];\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      if (match) {\r\n        database.ref('users/' + this.state.uid + '/contacts/' + match).set({\r\n          messages: [[this.state.user.uid, 'Hello']]\r\n        });\r\n        database.ref('users/' + match + '/contacts/' + this.state.user.uid).set({\r\n          messages: [[this.state.user.uid, 'Hello']]\r\n        });\r\n        this.setState({\r\n          match: \"yes\"\r\n        });\r\n        setTimeout(() => {\r\n          this.setState({\r\n            match: null\r\n          });\r\n        },3000);\r\n      } else {\r\n        this.setState({\r\n          match: \"no\"\r\n        });\r\n        setTimeout(() => {\r\n          this.setState({\r\n            match: null\r\n          });\r\n        },3000);\r\n      }\r\n    });\r\n\r\n  }\r\n  \r\n  render() {\r\n    if (firebase.auth().currentUser) {\r\n      return (\r\n        //<p>Y{\"o\".repeat(10)}</p>\r\n        <div>\r\n          <div>\r\n            <img class=\"profile-img\" src={firebase.auth().currentUser.photoURL}/>\r\n            <p>{firebase.auth().currentUser.email}</p>\r\n            <p><b>You currently have {this.state.friends} friend{this.state.friends != 1 && 's'}.</b></p>\r\n            <button onClick={this.match}>Make a friend!!</button>\r\n            <Link to=\"/logout\"><button onClick={f => firebase.auth().signOut()}>Logout</button></Link>\r\n          </div>\r\n          {this.state.match && this.state.match === \"yes\" &&\r\n            (<div class=\"footer\" ref=\"toast-friend\">\r\n              <div class=\"toast\">\r\n                🦄 You made a friend! 🦄\r\n              </div>\r\n            </div>)\r\n          }\r\n          {this.state.match && this.state.match === \"no\" &&\r\n            (<div class=\"footer\" ref=\"toast-no-friend\">\r\n              <div class=\"toast-red\">\r\n                😥 No friends found. 😥\r\n              </div>\r\n            </div>)\r\n          }\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      //<p>Y{\"o\".repeat(10)}</p>\r\n      <p>No user signed in.</p>\r\n    );\r\n  }\r\n  \r\n  componentDidMount() {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        var user = firebase.auth().currentUser;\r\n        var users = firebase.database().ref('users/' + user.uid);\r\n        users.on('value', (snapshot) => {\r\n          if (!snapshot.exists()) {\r\n            database.ref('users/' + user.uid).set({\r\n              display_name: user.displayName,\r\n              email: user.email,\r\n              profile_picture : user.photoURL,\r\n              uid: user.uid,\r\n              active_chat: 'test'\r\n            });\r\n            database.ref('users/' + user.uid + '/contacts/test').set({\r\n              messages: [['test', 'Hello']]\r\n            });\r\n            database.ref('users/' + 'test' + '/contacts/' + user.uid).set({\r\n              messages: [['test', 'Hello']]\r\n            });\r\n            database.ref('profiles/' + user.uid).set({\r\n              display_name: user.displayName,\r\n              email: user.email,\r\n              profile_picture : user.photoURL,\r\n              uid: user.uid,\r\n              active_chat: 'test'\r\n            });\r\n          } else {\r\n            this.setState({\r\n              contacts: snapshot.val().contacts\r\n            });\r\n          }\r\n          this.setState({\r\n            authenticated: true,\r\n            user: user,\r\n            uid: user.uid,\r\n            friends: Object.keys(snapshot.val().contacts).length - 1\r\n\r\n          });\r\n        });\r\n      } else {\r\n        this.setState({\r\n          authenticated: false\r\n        });\r\n      }\r\n    });\r\n  }\r\n}  \r\n\r\nclass Messages extends React.Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      authenticated: false,\r\n      inputValue: ''\r\n    };\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        var user = firebase.auth().currentUser;\r\n        var users = firebase.database().ref('users/' + user.uid);\r\n        users.once('value').then((snapshot0) => {\r\n          firebase.database().ref('/profiles').once('value').then((data) => {\r\n            this.setState({\r\n              profiles: data.val()\r\n            });\r\n          });\r\n        firebase.database().ref('/users/' + snapshot0.val().active_chat).once('value').then((snapshot) => {\r\n          users.on('value', (snapshot2) => {\r\n            this.setState({\r\n              contactObj: snapshot.val(),\r\n              contactRef: snapshot2.val().contacts[snapshot2.val().active_chat],\r\n              authenticated: true,\r\n              user: snapshot2.val(),\r\n            });\r\n          });\r\n        });\r\n      });\r\n      firebase.database().ref('users/' + user.uid + '/active_chat').on('value', (snapshot) => {\r\n        this.setState({\r\n          activeChat: snapshot.val()\r\n        });\r\n        console.log(snapshot.val());\r\n      });\r\n      \r\n        \r\n      } else {\r\n\r\n      }\r\n    });\r\n  }\r\n  \r\n  renderChatListItem = (contact) => {\r\n    var lastMessage = this.state.user.contacts[contact].messages[this.state.user.contacts[contact].messages.length - 1];\r\n    return (<div class={this.state.activeChat === contact ? \"chat-list-item-active\" : \"chat-list-item\"} onClick={() => {firebase.database().ref('users/' + this.state.user.uid).update({active_chat: contact});}}>\r\n      <img class=\"chat-list-item-profile\" src={this.state.profiles[contact].profile_picture}/>\r\n      <div class=\"chat-list-item-text\">\r\n        <p class=\"chat-list-item-name\">{this.state.profiles[contact].display_name}</p>\r\n        <p class=\"chat-list-item-message\">{lastMessage[1]}</p>\r\n      </div>\r\n    </div>);\r\n  }\r\n  \r\n  contactObj = (id) => {\r\n    return firebase.database().ref('/users/' + id).once('value');\r\n  }\r\n  \r\n  renderChatList = () => {\r\n    const chats = [];\r\n    for (var contact in this.state.user.contacts) {\r\n      chats.push(this.renderChatListItem(contact));\r\n    }\r\n    return chats;\r\n  }\r\n  \r\n  writeUserMessage = (contact, message) => {\r\n    var messageRef = firebase.database().ref('users/' + this.state.user.uid + '/contacts/' + contact + '/messages/' + this.state.user.contacts[contact].messages.length);\r\n    messageRef.set({\r\n        0: this.state.user.uid,\r\n        1: message\r\n    });\r\n    \r\n    var messageRefRecipient = firebase.database().ref('users/' + contact + '/contacts/' + this.state.user.uid + '/messages/' + this.state.user.contacts[contact].messages.length);\r\n    messageRefRecipient.set({\r\n        0: this.state.user.uid,\r\n        1: message\r\n    });\r\n  }\r\n  \r\n  updateInputValue(evt) {\r\n    this.setState({\r\n      inputValue: evt.target.value\r\n    });\r\n  }\r\n  \r\n  onKeyDown = (event: React.KeyboardEvent<HTMLDivElement>): void => {\r\n      if (event.key === 'Enter') {\r\n        if (this.state.inputValue) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.writeUserMessage(this.state.activeChat, this.state.inputValue);\r\n          this.setState({\r\n            inputValue: ''\r\n          });\r\n        }\r\n      }\r\n    }\r\n  \r\n  renderChatFocus = (contact) => {\r\n    const messages = [];\r\n    for (let message of this.state.contactRef.messages) {\r\n      if (message[0] === firebase.auth().currentUser.uid) {\r\n        messages.push(\r\n        <div class=\"chat-focus-bottom-right-outer\">\r\n          <div class=\"chat-focus-bottom-right\">\r\n            <p class=\"chat-focus-bottom-message-right\">{message[1]}</p>\r\n          </div>\r\n        </div>);\r\n      } else {\r\n        messages.push(\r\n        <div class=\"chat-focus-bottom-left-outer\">\r\n          <div class=\"chat-focus-bottom-left\">\r\n            <p class=\"chat-focus-bottom-message-left\">{message[1]}</p>\r\n          </div>\r\n        </div>);\r\n      }\r\n    }\r\n    return (\r\n      <div class=\"chat-focus\">\r\n        <div class=\"chat-focus-top\">\r\n          <img class=\"chat-focus-top-profile\" src={this.state.profiles[this.state.activeChat].profile_picture}/>\r\n          <div class=\"chat-focus-top-text\">\r\n            <p class=\"chat-focus-top-name\">{this.state.profiles[this.state.activeChat].display_name}</p>\r\n            <p class=\"chat-focus-top-desc\">Seattle, WA</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"chat-focus-messages\">\r\n          {messages}\r\n          <div ref={(el) => { this.el = el; }} />\r\n        </div>\r\n        <div class=\"chat-focus-type\">\r\n          <input value={this.state.inputValue} onChange={evt => this.updateInputValue(evt)} onKeyDown={this.onKeyDown} placeholder=\"Type a message\" class=\"chat-focus-type-input\"/>\r\n        </div>\r\n      </div>);\r\n  \r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div class=\"horizontal\">\r\n        <div class=\"chat-list\">\r\n          {this.state.authenticated && this.renderChatList()}\r\n        </div>\r\n        {this.state.authenticated && this.renderChatFocus(this.state.activeChat)}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  scrollToBottom() {\r\n    this.el.scrollIntoView({ behavior: 'auto', block: 'nearest', inline: 'start' });\r\n  }\r\n  \r\n  componentDidMount() {\r\n    \r\n  }\r\n  \r\n  componentDidUpdate() {\r\n    if (this.el) {\r\n      this.scrollToBottom();\r\n    }\r\n  }\r\n}  \r\n\r\nclass Contact extends React.Component {\r\n  render() {\r\n    return (\r\n      <a className=\"App-link\" href=\"https://www.linkedin.com/in/jasmine-bae\" target=\"_blank\" rel=\"noopener noreferrer\">Check out our LinkedIn!</a>\r\n    );\r\n  }\r\n}  \r\n\r\nclass Login extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      authenticated: false\r\n    };\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div>\r\n        {!this.state.authenticated && <SignIn />}\r\n        {this.state.authenticated && <Redirect to=\"/profile\" />}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  componentDidMount() {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.setState({\r\n          authenticated: true\r\n        });\r\n      } else {\r\n        this.setState({\r\n          authenticated: false\r\n        });\r\n      }\r\n    });\r\n  }\r\n}  \r\n\r\nclass Logout extends React.Component {\r\n  render() {\r\n    return (\r\n      <p>You have been logged out.</p>\r\n    );\r\n  }\r\n}  \r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}