(this["webpackJsonpjust-amity"]=this["webpackJsonpjust-amity"]||[]).push([[0],{147:function(e,t,a){e.exports=a.p+"static/media/amlogo2.fca9f407.PNG"},148:function(e,t,a){e.exports=a.p+"static/media/head.9960d83e.svg"},149:function(e,t,a){e.exports=a.p+"static/media/homebluebg.9bdca393.png"},163:function(e,t,a){e.exports=a(299)},168:function(e,t,a){},292:function(e,t){e.exports="data:image/png;base64,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"},294:function(e,t,a){},295:function(e,t,a){},299:function(e,t,a){"use strict";a.r(t);var A=a(0),n=a.n(A),s=a(18),r=a.n(s),l=(a(168),a(137)),c=a(40),o=a(25),i=a(26),u=a(28),m=a(27),d=a(16),h=a(10),f=a(22),p=(a(34),a(19)),v=a.n(p),b=a(139),g=a(35),E=a(7),y=a.n(E);a(106),a(108),a(110);y.a.initializeApp({apiKey:"AIzaSyCd05CA651nbJSjfG3a_XXxhth8zfQhYaM",authDomain:"users-7ee42.firebaseapp.com",databaseURL:"https://users-7ee42.firebaseio.com",projectId:"users-7ee42",storageBucket:"users-7ee42.appspot.com",messagingSenderId:"385725692286",appId:"1:385725692286:web:9a3c58753800fa97d4db2f"});var C=y.a.auth(),x=y.a.firestore(),j=new y.a.auth.GoogleAuthProvider,k=function(){y.a.auth().signInWithPopup(j).then((function(e){})).catch((function(e){console.log("Error signing in:",e)}))},F=function(){var e=Object(g.a)(v.a.mark((function e(t,a){var A,n,s,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return A=x.doc("users/".concat(t.uid)),e.next=5,A.get();case 5:if(e.sent.exists){e.next=16;break}return n=t.email,s=t.displayName,r=t.photoURL,e.prev=8,e.next=11,A.set(Object(b.a)({displayName:s,email:n,photoURL:r},a));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 16:return e.abrupt("return",S(t.uid));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,x.doc("users/".concat(t)).get();case 5:return a=e.sent,e.abrupt("return",{uid:t,userDocument:a});case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();console.log(S(1));var w=a(309),U=function(){var e=Object(A.useState)(""),t=Object(f.a)(e,2),a=(t[0],t[1],Object(A.useState)("")),s=Object(f.a)(a,2),r=(s[0],s[1],Object(A.useState)(null)),l=Object(f.a)(r,2),c=l[0];l[1];return n.a.createElement("div",{className:"mt-8"},n.a.createElement("h1",{className:"text-3xl mb-2 text-center font-bold"},"Sign In"),n.a.createElement("div",{className:"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8"},null!==c&&n.a.createElement("div",{className:"py-4 bg-red-600 w-full text-white text-center mb-3"},c),n.a.createElement("br",null),n.a.createElement(w.a,{onClick:function(){k()}},"Sign in with BMail"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("p",{className:"text-center my-3"},"Log in with your @berkeley.edu email to continue.")))},O=Object(A.createContext)({user:null});A.Component;var D=a(147),I=a.n(D),K=a(148),M=a.n(K),R=a(149),T=a.n(R),Y=(a(292),a(293),a(294),a(295),a(296),a(74)),G=a(307),N=a(50),Q=a(311),B=a(72),L=a(310),V=a(155),q=y.a.database(),J={AFX:[0,1,0,1,0],Birds:[1,0,0,0,0],Cats:[1,0,1,0,0],"Computer Science":[0,0,1,1,0],Dogs:[1,0,0,0,0],Food:[0,0,0,1,1],"Rocket League":[0,1,1,1,0]},H=[{value:"chocolate",label:"Left part of US"},{value:"strawberry",label:"Right part of US"},{value:"vanilla",label:"Top part of US"},{value:"orange",label:"Bottom part of US"}],X=[{value:"AFX",label:"AFX"},{value:"Birds",label:"Birds"},{value:"Cats",label:"Cats"},{value:"Computer Science",label:"Computer Science"},{value:"Dogs",label:"Dogs"},{value:"Food",label:"Food"},{value:"Rocket League",label:"Rocket League"}];var W=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(Z,null))},Z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var A;return Object(o.a)(this,a),(A=t.call(this,e)).logout=function(e){y.a.auth().signOut(),A.setState({signed:!1,photo:null,stateFetched:!1}),A.render()},A.state={signed:!1,photo:null},y.a.auth().currentUser&&(A.state={signed:!0}),document.title="JustAmity",y.a.auth().onAuthStateChanged((function(e){e?(A.setState({signed:!0,photo:y.a.auth().currentUser.photoURL,stateFetched:!0}),y.a.database().ref("users/"+y.a.auth().currentUser.uid+"/contacts").on("value",(function(e){var t=0;for(var a in e.val())e.val()[a].unread&&(t+=1);A.setState({unreads:t})}))):A.setState({signed:!1,photo:null,stateFetched:!0})})),A}return Object(i.a)(a,[{key:"render",value:function(){return document.body.style.overflow="auto",n.a.createElement(d.a,null,n.a.createElement("main",null,n.a.createElement("nav",{class:"top-scroll"},n.a.createElement(d.b,{to:"/"},n.a.createElement("img",{class:"title-img",src:I.a})),n.a.createElement("div",{class:"links-div"},n.a.createElement("div",{class:"links-div-link-div"},n.a.createElement("a",{class:"links-div-link"},n.a.createElement(d.b,{to:"/"},"home")),n.a.createElement("a",{class:"links-div-link"},n.a.createElement(d.b,{to:"/about"},"about")),n.a.createElement("a",{class:"links-div-link"},n.a.createElement(d.b,{to:"/contact"},"contact"))),!this.state.signed&&this.state.stateFetched&&n.a.createElement(d.b,{to:"/login"},n.a.createElement("img",{class:"head-img",src:M.a}))),this.state.signed&&n.a.createElement("div",{class:"profile-div"},n.a.createElement(d.b,{to:"/messages"},n.a.createElement("div",{class:"symbol"},n.a.createElement(N.a,{name:"mail outline",size:"big"}),this.state.unreads>0&&n.a.createElement("div",{class:"notification-bubble"},n.a.createElement("p",{class:"notification-bubble-text"},this.state.unreads)))),n.a.createElement(d.b,{class:"grey",to:"/profile"},n.a.createElement("img",{class:"profile-img-head",src:this.state.photo}),n.a.createElement("p",{class:"profile-top-right-name"},y.a.auth().currentUser.displayName)))),n.a.createElement(h.b,{path:"/",exact:!0,component:z}),n.a.createElement(h.b,{path:"/justamity",exact:!0,component:z}),n.a.createElement(h.b,{path:"/about",component:ee}),n.a.createElement(h.b,{path:"/contact",component:P}),n.a.createElement(h.b,{path:"/profile",component:_}),n.a.createElement(h.b,{path:"/messages",component:$}),n.a.createElement(h.b,{path:"/login",component:te}),n.a.createElement(h.b,{path:"/logout",component:ae})))}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}}]),a}(n.a.Component),z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var A;return Object(o.a)(this,a),(A=t.call(this,e)).state={signed:!1,photo:null},y.a.auth().currentUser&&(A.state={signed:!0}),document.title="JustAmity",y.a.auth().onAuthStateChanged((function(e){e?A.setState({signed:!0,photo:y.a.auth().currentUser.photoURL,stateFetched:!0}):A.setState({signed:!1,photo:null,stateFetched:!1})})),A}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{class:"home-div"},this.state.signed&&n.a.createElement(h.a,{to:"/login"}),n.a.createElement("div",{class:"home-bg"},n.a.createElement("div",{class:"home-text"},n.a.createElement("p",{class:"slogan"},"A New Way to"),n.a.createElement("p",{class:"slogan-bold"},"CONNECT"),n.a.createElement("p",{class:"slogan-under"},"Staying home for the semester?",n.a.createElement("br",null),"Feeling lonely and bored?"),n.a.createElement("img",{class:"home-img"}),n.a.createElement("div",{class:"horizontal-right"},n.a.createElement(d.b,{to:"/login"},n.a.createElement("div",{class:"home-buttons-secondary"},"Sign Up")),n.a.createElement(d.b,{to:"/login"},n.a.createElement("div",{class:"home-buttons-primary"},"Login"))))),n.a.createElement("div",{class:"home-bg-second"},n.a.createElement("img",{src:T.a})),n.a.createElement("footer",null,n.a.createElement("div",{class:"footer-bg"},n.a.createElement("div",{class:"footer-content"},n.a.createElement("div",{class:"footer-column"},n.a.createElement("p",{class:"footer-column-title"},"Company"),n.a.createElement("p",{class:"footer-column-links"},"About Us"),n.a.createElement("p",{class:"footer-column-links"},"Careers"),n.a.createElement("p",{class:"footer-column-links"},"Terms"),n.a.createElement("p",{class:"footer-column-links"},"Privacy")),n.a.createElement("div",{class:"footer-column"},n.a.createElement("p",{class:"footer-column-title"},"Work With Us"),n.a.createElement("p",{class:"footer-column-links"},"Friends"),n.a.createElement("p",{class:"footer-column-links"},"Advertise")),n.a.createElement("div",{class:"footer-column"},n.a.createElement("p",{class:"footer-column-title"},"Support"),n.a.createElement("p",{class:"footer-column-links"},"$10"),n.a.createElement("p",{class:"footer-column-links"},"$100"))))))}}]),a}(n.a.Component),P=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.facebook.com/justamity"},n.a.createElement("i",{class:"fa fa-facebook","aria-hidden":"true"}),n.a.createElement("span",null," - Facebook"))),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.twitter.com/just_amity"},n.a.createElement("i",{class:"fa fa-twitter","aria-hidden":"true"}),n.a.createElement("span",null," - Twitter"))),n.a.createElement("li",null,n.a.createElement("a",{href:"mailto:jasmine.bae@berkeley.edu"},n.a.createElement("i",{class:"fa fa-google-plus","aria-hidden":"true"}),n.a.createElement("span",null," - Email"))),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.instagram.com/just_amity"},n.a.createElement("i",{class:"fa fa-instagram","aria-hidden":"true"}),n.a.createElement("span",null," - Instagram")))))}}]),a}(n.a.Component),_=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).match=function(){q.ref("matches").once("value").then((function(t){var a=t.val();q.ref("bearings/").once("value").then((function(t){for(var A=t.val(),n=0;n<a.length;n++)if(a[n]!==e.state.uid&&!(a[n]in e.state.contacts)&&A[a[n]]){var s=0,r=1,l=1;for(var c in A[a[n]])r+=A[a[n]][c];for(var c in e.state.bearing)l+=e.state.bearing[c];for(var c in A[a[n]])s+=Math.pow(A[a[n]][c]/r-e.state.bearing[c]/l,2);if(console.log("Friend distance score: "+s),s<1e3)var o=a[n]}o?(q.ref("users/"+e.state.uid+"/contacts/"+o).set({messages:[[e.state.user.uid,"Hello"]]}),q.ref("users/"+o+"/contacts/"+e.state.user.uid).set({messages:[[e.state.user.uid,"Hello"]]}),"yes"!==e.state.match&&(setTimeout((function(){e.setState({match:null})}),3e3),e.setState({match:"yes"}))):"no"!==e.state.match&&(setTimeout((function(){e.setState({match:null})}),3e3),e.setState({match:"no"}))}))}))},e.handleSelect=function(t){var a=y.a.database().ref("profiles/"+e.state.user.uid);a.update({location:t.label});y.a.database().ref("users/"+e.state.user.uid);a.update({location:t.label})},e.handleSelectInterest=function(t,a){if("remove-value"==a.action){for(var A in e.state.interests){if(e.state.interests[A]==a.removedValue)(r=y.a.database().ref("users/"+e.state.user.uid+"/interests/"+A)).remove()}(l=y.a.database().ref("users/"+e.state.user.uid+"/bearing")).once("value").then((function(e){l.update({0:e.val()[0]-J[a.removedValue.label][0],1:e.val()[1]-J[a.removedValue.label][1],2:e.val()[2]-J[a.removedValue.label][2],3:e.val()[3]-J[a.removedValue.label][3],4:e.val()[4]-J[a.removedValue.label][4]})})),(o=y.a.database().ref("bearings/"+e.state.user.uid)).once("value").then((function(e){o.update({0:e.val()[0]-J[a.removedValue.label][0],1:e.val()[1]-J[a.removedValue.label][1],2:e.val()[2]-J[a.removedValue.label][2],3:e.val()[3]-J[a.removedValue.label][3],4:e.val()[4]-J[a.removedValue.label][4]})})),e.setState({interests:t});var n=[];for(var A in t)n.push([t[A].label,J[t[A].label]]);var s=y.a.database().ref("users/"+e.state.user.uid+"/interests");n?(s.remove(),s.set(n)):s.remove()}else{var r;e.setState({interests:t}),(r=y.a.database().ref("users/"+e.state.user.uid+"/interests")).once("value").then((function(e){r.update(Object(c.a)({},e.val()?e.val().length:0,[t[t.length-1].label,J[t[t.length-1].label]]))}));var l=y.a.database().ref("users/"+e.state.user.uid+"/bearing"),o=y.a.database().ref("bearings/"+e.state.user.uid);l.once("value").then((function(e){e.exists()?(l.update({0:e.val()[0]+J[t[t.length-1].label][0],1:e.val()[1]+J[t[t.length-1].label][1],2:e.val()[2]+J[t[t.length-1].label][2],3:e.val()[3]+J[t[t.length-1].label][3],4:e.val()[4]+J[t[t.length-1].label][4]}),o.update({0:e.val()[0]+J[t[t.length-1].label][0],1:e.val()[1]+J[t[t.length-1].label][1],2:e.val()[2]+J[t[t.length-1].label][2],3:e.val()[3]+J[t[t.length-1].label][3],4:e.val()[4]+J[t[t.length-1].label][4]})):(l.update({0:J[t[t.length-1].label][0],1:J[t[t.length-1].label][1],2:J[t[t.length-1].label][2],3:J[t[t.length-1].label][3],4:J[t[t.length-1].label][4]}),o.update({0:J[t[t.length-1].label][0],1:J[t[t.length-1].label][1],2:J[t[t.length-1].label][2],3:J[t[t.length-1].label][3],4:J[t[t.length-1].label][4]}))}))}},e.tags=function(e){var t=[];for(var a in e)t.push(n.a.createElement(B.a,{style:{width:"auto",margin:"2px"}},n.a.createElement(N.a,{name:"user"}),e[a],n.a.createElement(N.a,{name:"close"})));return t},e.state={authenticated:!1,uid:null,friends:0,match:null},y.a.auth().onAuthStateChanged((function(t){if(t){t=y.a.auth().currentUser;y.a.database().ref("users/"+t.uid).on("value",(function(a){if(a.exists()){q.ref("bearings/"+t.uid).once("value",(function(e){e.exists()||q.ref("bearings/").update(Object(c.a)({},t.uid,[0,0,0,0,0]))}));var A=[];for(var n in a.val().interests)A.push({value:a.val().interests[n][0],label:a.val().interests[n][0]});e.setState({authenticated:!0,user:t,uid:t.uid,friends:Object.keys(a.val().contacts).length-1,location:a.val().location,contacts:a.val().contacts,interests:A,bearing:a.val().bearing})}else q.ref("users/"+t.uid).set({display_name:t.displayName,email:t.email,profile_picture:t.photoURL,uid:t.uid,active_chat:"test",interests:[["Cats",[1,0,1,0,0]]],bearing:[1,0,1,0,0]}),q.ref("bearings/").update(Object(c.a)({},t.uid,[1,0,1,0,0])),q.ref("users/"+t.uid+"/contacts/test").set({messages:[["test","Hi, welcome to Amity. Friendships start here."]]}),q.ref("users/test/contacts/"+t.uid).set({messages:[["test","Hi, welcome to Amity. Friendships start here."]]}),q.ref("profiles/"+t.uid).set({display_name:t.displayName,email:t.email,profile_picture:t.photoURL,uid:t.uid,active_chat:"test"}).then((function(){e.setState({authenticated:!0,user:t,uid:t.uid,friends:Object.keys(a.val().contacts).length-1,location:"Left part of US"})}))}))}else e.setState({authenticated:!1})})),e}return Object(i.a)(a,[{key:"render",value:function(){return y.a.auth().currentUser?n.a.createElement("div",null,n.a.createElement("div",{class:"profile-container"},n.a.createElement("div",{class:"profile-left"},n.a.createElement("img",{class:"profile-img",src:y.a.auth().currentUser.photoURL}),n.a.createElement(Q.a,{as:"h2"},y.a.auth().currentUser.displayName),n.a.createElement("div",{class:"vertical",style:{margin:"10px"}},n.a.createElement(L.a,{color:"teal",size:"mini"},n.a.createElement(L.a.Label,null,"Member since"),n.a.createElement(L.a.Value,null,"Jan '20"))),n.a.createElement(w.a,{color:"teal",onClick:function(e){return y.a.auth().signOut()}},"Logout")),this.state.match&&"yes"===this.state.match&&n.a.createElement("div",{class:"footer-toast",ref:"toast-friend"},n.a.createElement("div",{class:"toast"},"\ud83e\udd84 You made a friend! \ud83e\udd84")),this.state.match&&"no"===this.state.match&&n.a.createElement("div",{class:"footer-toast",ref:"toast-no-friend"},n.a.createElement("div",{class:"toast-red"},"\ud83d\ude25 No friends found. \ud83d\ude25")),n.a.createElement("div",{class:"profile-right"},n.a.createElement("div",{class:"friends"},n.a.createElement("p",{class:"profile-friends-title"},"Friends"),n.a.createElement("p",{class:"profile-friends-count"},"You currently have ",this.state.friends," friend",1!=this.state.friends&&"s","."),n.a.createElement(G.a,{"data-tip":"Your friend making energy<br>meter is recharging.",percent:56,progress:!0,style:{margin:"10px 0px"}}),n.a.createElement(V.a,{place:"bottom",effect:"solid",offset:{top:0,right:75},multiline:"true"}),n.a.createElement(w.a,{color:"teal",onClick:this.match,style:{width:"150px"}},n.a.createElement(N.a,{name:"user"}),"Make friend")),n.a.createElement("div",null,n.a.createElement("p",{class:"profile-friends-title"},"Profile"),n.a.createElement("p",{class:"profile-property-title"},"Location"),this.state.location&&n.a.createElement(Y.a,{onChange:this.handleSelect,options:H,defaultValue:{label:this.state.location,value:1}}),!this.state.location&&n.a.createElement(Y.a,{onChange:this.handleSelect,options:H,defaultValue:{label:"None",value:1}}))),n.a.createElement("div",{class:"profile-right-right"},n.a.createElement("div",{class:"friends"},n.a.createElement("p",{class:"profile-friends-title"},"Interests"),n.a.createElement(Y.a,{isMulti:!0,className:"basic-multi-select",classNamePrefix:"select",onChange:this.handleSelectInterest,options:X,value:this.state.interests,isClearable:!1}))))):n.a.createElement("p",null,"No user signed in.")}},{key:"componentDidMount",value:function(){}}]),a}(n.a.Component),$=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a),(e=t.call(this)).colors=!0,e.renderChatListItem=function(t){var a=e.state.user.contacts[t].messages[Object.keys(e.state.user.contacts[t].messages).length-1],A=e.state.user.contacts[t].unread;return n.a.createElement("div",{onMouseOver:e.readMessage,class:e.state.activeChat===t?"chat-list-item-active":"chat-list-item",onClick:function(){y.a.database().ref("users/"+e.state.user.uid).update({active_chat:t})}},n.a.createElement("img",{class:"chat-list-item-profile",src:"https://ui-avatars.com/api/?length=1&background="+e.state[t]+"&color=fff&bold=true&name="+e.state.profiles[t].display_name.split(" ")[0]}),n.a.createElement("div",{class:"chat-list-item-text"},n.a.createElement("p",{class:A?"chat-list-item-name-unread":"chat-list-item-name"},e.state.profiles[t].display_name.split(" ")[0]),n.a.createElement("p",{class:A?"chat-list-item-message-unread":"chat-list-item-message"},a?a[1]:"")))},e.randomPhrase=function(){var e=Array("Hey whats up","Haha thats really funny!","That sounds really fun!","Tfw when you are a cat","Hello!","Do you want to go get boba","Yoooo uwu","LOL","Yes!","Sorry I am busy. :(","How are you doing?","That's really cool!","What do you think?","LOL im in");return e[Math.floor(Math.random()*e.length)]},e.randomName=function(){var e=Array("John","Jack","Emma","James","Sarah","Ronny","Alex","Jocelyn","Bode","Boser","Gireeja","Eva","Evelyn","Tom","Hanna","Jenny","Kaley","Helen","Helena","Amy","Athena","Bill","Melinda");return e[Math.floor(Math.random()*e.length)]},e.randomColor=function e(t,a,A){return a[t.floor(t.random()*a.length)]+(A&&e(t,a,A-1))},e.renderFakeChatListItem=function(){var t=e.randomPhrase(),a=e.randomName(),A=e.randomColor(Math,"356789ABCDEF",4);return n.a.createElement("div",{class:"chat-list-item"},n.a.createElement("img",{class:"chat-list-item-profile",src:"https://ui-avatars.com/api/?length=1&background="+A+"&color=fff&bold=true&name="+a}),n.a.createElement("div",{class:"chat-list-item-text"},n.a.createElement("p",{class:"chat-list-item-name"},a),n.a.createElement("p",{class:"chat-list-item-message"},t||"")))},e.contactObj=function(e){return y.a.database().ref("/users/"+e).once("value")},e.renderChatList=function(){var t=[];for(var a in e.state.user.contacts)t.push(e.renderChatListItem(a));return t},e.writeUserMessage=function(t,a){y.a.database().ref("users/"+e.state.user.uid+"/contacts/"+t+"/messages/"+e.state.user.contacts[t].messages.length).set({0:e.state.user.uid,1:a}),y.a.database().ref("users/"+t+"/contacts/"+e.state.user.uid+"/messages/"+e.state.user.contacts[t].messages.length).set({0:e.state.user.uid,1:a}),y.a.database().ref("users/"+t+"/contacts/"+e.state.user.uid).update({unread:!0})},e.onKeyDown=function(t){"Enter"===t.key&&e.state.inputValue&&(t.preventDefault(),t.stopPropagation(),e.writeUserMessage(e.state.activeChat,e.state.inputValue),e.setState({inputValue:""}))},e.readMessage=function(t){t&&y.a.database().ref("users/"+e.state.user.uid+"/contacts/"+e.state.activeChat).update({unread:!1})},e.renderChatFocus=function(t){var a=[];if(e.isIterable(e.state.contactRef.messages)){var A,s=Object(l.a)(e.state.contactRef.messages);try{for(s.s();!(A=s.n()).done;){var r=A.value;r[0]===y.a.auth().currentUser.uid?a.push(n.a.createElement("div",{class:"chat-focus-bottom-right-outer"},n.a.createElement("div",{class:"chat-focus-bottom-right"},n.a.createElement("p",{class:"chat-focus-bottom-message-right"},r[1])))):a.push(n.a.createElement("div",{class:"chat-focus-bottom-left-outer"},n.a.createElement("div",{class:"chat-focus-bottom-left"},n.a.createElement("p",{class:"chat-focus-bottom-message-left"},r[1]))))}}catch(c){s.e(c)}finally{s.f()}}return n.a.createElement("div",{class:"chat-focus",onMouseOver:e.readMessage},n.a.createElement("div",{class:"chat-focus-top"},n.a.createElement("img",{class:"chat-focus-top-profile",src:"https://ui-avatars.com/api/?length=1&background="+e.state[t]+"&color=fff&bold=true&name="+e.state.profiles[t].display_name.split(" ")[0]}),n.a.createElement("div",{class:"chat-focus-top-text"},n.a.createElement("p",{class:"chat-focus-top-name"},e.state.profiles[e.state.activeChat].display_name.split(" ")[0]),n.a.createElement("p",{class:"chat-focus-top-desc"},e.state.profiles[e.state.activeChat].location))),n.a.createElement("div",{class:"chat-focus-messages"},a,n.a.createElement("div",{ref:function(t){e.el=t}})),n.a.createElement("div",{class:"chat-focus-type"},n.a.createElement("input",{value:e.state.inputValue,onChange:function(t){return e.updateInputValue(t)},onKeyDown:e.onKeyDown,placeholder:"Type a message",class:"chat-focus-type-input"})))},e.renderSuggestions=function(){return n.a.createElement("div",{class:"chat-suggestions-div"},n.a.createElement("img",{class:"chat-suggestion-img",src:"http://www.topdesignmag.com/wp-content/uploads/2012/05/5.-vintage-newspaper-ad.jpg"}),n.a.createElement("img",{class:"chat-suggestion-img",src:"https://i.pinimg.com/originals/0b/5f/67/0b5f6794c6c32f7c94cffd8f68d1a325.jpg"}),n.a.createElement("img",{class:"chat-suggestion-img",src:"https://c2.staticflickr.com/2/1593/25044909010_90d6a29099_b.jpg"}))},e.state={authenticated:!1,inputValue:""};new Date;var A=function e(t,a,A){return a[t.floor(t.random()*a.length)]+(A&&e(t,a,A-1))};return y.a.auth().onAuthStateChanged((function(t){if(t){t=y.a.auth().currentUser;var a=y.a.database().ref("users/"+t.uid);a.once("value").then((function(t){y.a.database().ref("/profiles").once("value").then((function(t){e.setState({profiles:t.val()})})),y.a.database().ref("/users/"+t.val().active_chat).once("value").then((function(t){a.on("value",(function(a){if(e.setState({contactObj:t.val(),contactRef:a.val().contacts[a.val().active_chat],authenticated:!0,user:a.val()}),e.colors){for(var n in a.val().contacts)e.setState(Object(c.a)({},n,A(Math,"356789ABCDEF",4)));e.colors=!1}}))}))})),y.a.database().ref("users/"+t.uid+"/active_chat").on("value",(function(t){e.setState({activeChat:t.val()})}))}})),e}return Object(i.a)(a,[{key:"updateInputValue",value:function(e){this.setState({inputValue:e.target.value})}},{key:"isIterable",value:function(e){return null!=e&&"function"===typeof e[Symbol.iterator]}},{key:"render",value:function(){return document.body.style.overflow="hidden",n.a.createElement("div",{class:"horizontal"},n.a.createElement("div",{class:"chat-list"},this.state.authenticated&&this.renderChatList()),this.state.authenticated&&this.renderChatFocus(this.state.activeChat),this.state.authenticated&&this.renderSuggestions())}},{key:"scrollToBottom",value:function(){this.el.scrollIntoView({behavior:"auto",block:"nearest",inline:"start"})}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){this.el&&this.scrollToBottom()}}]),a}(n.a.Component),ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{class:"about-top-div"},n.a.createElement("p",{class:"about-title"},"Coming Soon")))}}]),a}(n.a.Component),te=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={authenticated:!1},e}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,!this.state.authenticated&&n.a.createElement(U,null),this.state.authenticated&&n.a.createElement(h.a,{to:"/messages"}))}},{key:"componentDidMount",value:function(){var e=this;y.a.auth().onAuthStateChanged((function(t){t?e.setState({authenticated:!0}):e.setState({authenticated:!1})}))}}]),a}(n.a.Component),ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(h.a,{to:"/justamity"}))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[163,1,2]]]);
//# sourceMappingURL=main.4912e7cb.chunk.js.map