{"version":3,"sources":["amlogo3.png","head.svg","homebluebg.png","mail2.png","firebase.js","Components/SignIn.jsx","providers/UserProvider.jsx","Components/Application.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","firestore","provider","GoogleAuthProvider","signInWithGoogle","signInWithPopup","then","result","catch","error","console","log","generateUserDocument","user","additionalData","a","userRef","doc","uid","get","exists","email","displayName","photoURL","set","getUserDocument","userDocument","SignIn","useState","className","Button","onClick","UserContext","createContext","Component","Application","database","interests","options","value","label","optionsInterests","v","push","App","TopNavBar","props","logout","event","signOut","setState","signed","photo","stateFetched","render","state","currentUser","document","title","onAuthStateChanged","ref","on","snapshot","unreads","val","unread","body","style","overflow","class","to","src","logo2","this","head","Icon","name","size","path","exact","component","Home","About","Contact","Profile","Messages","Login","Logout","React","homebluebg","href","aria-hidden","match","once","potentialFriends","distance","snapshot3","all","ing","length","contacts","score","sum1","sum2","bearing","messages","setTimeout","handleSelect","e","locationRef","update","location","handleSelectInterest","f","action","i","removedValue","interestRef","remove","bearingRef","0","1","2","3","4","bearingRef2","out","interestRef2","tags","lst","ret","x","Label","width","margin","handleColorClick","displayColorPicker","handleColorClose","handleColorSelect","color","hex","authenticated","friends","sp","n","Date","toString","last_login","Object","keys","display_name","profile_picture","active_chat","lol","m","s","c","floor","random","randomColor","Math","substring","split","Header","as","Statistic","Value","Progress","data-tip","percent","progress","place","effect","offset","top","right","multiline","onChange","defaultValue","backgroundColor","triangle","isMulti","classNamePrefix","isClearable","colors","renderChatListItem","contact","lastMessage","onMouseOver","readMessage","activeChat","profiles","randomPhrase","song","Array","randomName","renderFakeChatListItem","contactObj","id","renderChatList","chats","writeUserMessage","message","onKeyDown","key","inputValue","preventDefault","stopPropagation","renderChatFocus","isIterable","contactRef","el","evt","updateInputValue","placeholder","renderSuggestions","users","snapshot0","data","snapshot2","target","obj","Symbol","iterator","scrollIntoView","behavior","block","inline","scrollToBottom","Boolean","window","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5c5b86fb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/amlogo3.87066239.png\";","module.exports = __webpack_public_path__ + \"static/media/head.9960d83e.svg\";","module.exports = __webpack_public_path__ + \"static/media/homebluebg.9bdca393.png\";","module.exports = \"data:image/png;base64,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\"","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport { functions } from \"firebase\";\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport  { Redirect } from 'react-router-dom'\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCd05CA651nbJSjfG3a_XXxhth8zfQhYaM\",\r\n    authDomain: \"users-7ee42.firebaseapp.com\",\r\n    databaseURL: \"https://users-7ee42.firebaseio.com\",\r\n    projectId: \"users-7ee42\",\r\n    storageBucket: \"users-7ee42.appspot.com\",\r\n    messagingSenderId: \"385725692286\",\r\n    appId: \"1:385725692286:web:9a3c58753800fa97d4db2f\"\r\n  };\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\n\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\n/*provider.setCustomParameters({\r\n  hd: \"berkeley.edu\"\r\n});*/\r\nexport const signInWithGoogle = () => {\r\n  firebase.auth().signInWithPopup(provider)\r\n    .then(function(result) {\r\n        \r\n    })\r\n    .catch(function(error) {\r\n      console.log(\"Error signing in:\", error);\r\n    });\r\n};\r\n\r\nexport const generateUserDocument = async (user, additionalData) => {\r\n  if (!user) return;\r\n\r\n  const userRef = firestore.doc(`users/${user.uid}`);\r\n  const snapshot = await userRef.get();\r\n\r\n  if (!snapshot.exists) {\r\n    const { email, displayName, photoURL } = user;\r\n    try {\r\n      await userRef.set({\r\n        displayName,\r\n        email,\r\n        photoURL,\r\n        ...additionalData\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error creating user document\", error);\r\n    }\r\n  }\r\n  return getUserDocument(user.uid);\r\n};\r\n\r\nconst getUserDocument = async uid => {\r\n  if (!uid) return null;\r\n  try {\r\n    const userDocument = await firestore.doc(`users/${uid}`).get();\r\n\r\n    return {\r\n      uid,\r\n      userDocument\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error fetching user\", error);\r\n  }\r\n};\r\n\r\nconsole.log(getUserDocument(1));\r\n\r\n","import React, {useState} from \"react\";\r\nimport { Link } from \"@reach/router\";\r\nimport { signInWithGoogle } from \"../firebase\";\r\nimport { auth } from \"../firebase\";\r\nimport { Button } from 'semantic-ui-react'\r\n\r\nconst SignIn = () => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState(null);\r\n\r\n    const signInWithEmailAndPasswordHandler = (event,email, password) => {\r\n        event.preventDefault();\r\n        auth.signInWithEmailAndPassword(email, password).catch(error => {\r\n        setError(\"Error signing in with password and email!\");\r\n          console.error(\"Error signing in with password and email\", error);\r\n        });\r\n      };\r\n\r\n      const onChangeHandler = (event) => {\r\n          const {name, value} = event.currentTarget;\r\n\r\n          if(name === 'userEmail') {\r\n              setEmail(value);\r\n          }\r\n          else if(name === 'userPassword'){\r\n            setPassword(value);\r\n          }\r\n      };\r\n\r\n\r\n  return (\r\n    <div className=\"mt-8\">\r\n      <h1 className=\"text-3xl mb-2 text-center font-bold\">Sign In</h1>\r\n      <div className=\"border border-blue-400 mx-auto w-11/12 md:w-2/4 rounded py-8 px-4 md:px-8\">\r\n        {error !== null && <div className = \"py-4 bg-red-600 w-full text-white text-center mb-3\">{error}</div>}\r\n        <br/>\r\n        <Button\r\n          onClick={() => {\r\n            signInWithGoogle();\r\n          }}\r\n        >\r\n          Sign in with BMail\r\n        </Button>\r\n        <br/>\r\n        <br/>\r\n        <p className=\"text-center my-3\">\r\n          Log in with your @berkeley.edu email to continue.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import React, { Component, createContext } from \"react\";\r\nimport { auth, generateUserDocument } from \"../firebase.js\";\r\n\r\n\r\nexport const UserContext = createContext({ user: null });\r\n\r\nclass UserProvider extends Component {\r\n  state = {\r\n    user: null\r\n  };\r\n\r\n\r\n\r\n  componentDidMount = async () => {\r\n    auth.onAuthStateChanged(async userAuth => {\r\n      const user = await generateUserDocument(userAuth);\r\n      this.setState({ user });\r\n    });\r\n\r\n\r\n  };\r\n\r\n  render() {\r\n    const { user } = this.state;\r\n\r\n    return (\r\n      <UserContext.Provider value={user}>\r\n        {this.props.children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserProvider;\r\n","import React, { useContext } from \"react\";\r\nimport { Router } from \"@reach/router\";\r\nimport SignIn from \"./SignIn\";\r\nimport SignUp from \"./SignUp\";\r\nimport UserProvider from \"../providers/UserProvider\";\r\nimport ProfilePage from \"./ProfilePage\";\r\nimport { UserContext } from \"../providers/UserProvider\";\r\nimport PasswordReset from \"./PasswordReset\";\r\nfunction Application() {\r\n  const user = useContext(UserContext);\r\n  return (\r\n        user ?\r\n        <ProfilePage />\r\n      :\r\n        <Router>\r\n          <SignUp path=\"signUp\" />\r\n          <SignIn path=\"/\" />\r\n          <PasswordReset path = \"passwordReset\" />\r\n        </Router>\r\n\r\n  );\r\n}\r\n\r\nexport default Application;\r\n","import React, { useContext } from \"react\"\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport { browserHistory } from 'react-router';\r\nimport SignIn from \"./Components/SignIn\";\r\nimport SignUp from \"./Components/SignUp\";\r\nimport Application from \"./Components/Application\";\r\nimport UserProvider from \"./providers/UserProvider\";\r\nimport ProfilePage from \"./Components/ProfilePage\";\r\nimport { UserContext } from \"./providers/UserProvider\";\r\nimport logo2 from './amlogo3.png';\r\nimport head from './head.svg';\r\nimport homebluebg from './homebluebg.png';\r\nimport mailSymbol from './mail2.png'\r\nimport 'semantic-ui-css/semantic.min.css'\r\nimport './App.css';\r\nimport './firebase.js';\r\nimport { createBrowserHistory } from 'history';\r\nimport './nav.css';\r\nimport { Fragment } from \"react\";\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport { functions } from \"firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { signInWithGoogle } from \"./firebase\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport Select from 'react-select';\r\nimport { Button } from 'semantic-ui-react'\r\nimport { Progress } from 'semantic-ui-react'\r\nimport { Icon } from 'semantic-ui-react'\r\nimport { Header } from 'semantic-ui-react'\r\nimport { Label } from 'semantic-ui-react'\r\nimport { Dropdown } from 'semantic-ui-react'\r\nimport { Card, Feed } from 'semantic-ui-react'\r\nimport { Statistic } from 'semantic-ui-react'\r\nimport ReactTooltip from 'react-tooltip';\r\nimport { TwitterPicker } from 'react-color';\r\nvar database = firebase.database();\r\n\r\n// Format for interest vectors\r\n// [animals, physical, intellectual, artistic, culinary]\r\nconst interests = {\r\n  'AFX': [0, 1, 0, 1, 0],\r\n  'Anime': [0, 0, 1, 1, 0],\r\n  'Art': [0, 0, 0, 1, 0],\r\n  'Ballet': [0, 1, 0, 1, 0],\r\n  'Birds':[1, 0, 0, 0, 0],\r\n  'Canada': [0, 0, 0, 0, 0],\r\n  'Carol Christ': [0, 0, 1, 0, 0],\r\n  'Cats':[1, 0, 1, 0 ,0], \r\n  'Computer Science':[0, 0, 1, 1, 0],\r\n  'Data Science': [0, 0, 1, 0 , 0],\r\n  'Dogs': [1, 0, 0, 0, 0], \r\n  'Engineering': [0, 1, 1, 0, 0],\r\n  'Engines': [0, 0, 0, 0, 0],\r\n  'Food': [0, 0, 0, 1, 1],\r\n  'Fudge': [0, 0, 0, 0, 1],\r\n  'Games': [0, 0, 0, 0, 0],\r\n  'Gongs': [0, 0, 0, 1, 0],\r\n  'Hills': [0, 1, 0, 1, 0],\r\n  'Intelligence': [0, 0, 1, 0, 0],\r\n  'John Denero': [0, 0, 1, 0, 0],\r\n  'Knitting': [0, 1, 0, 1, 0],\r\n  'Lamps': [0, 0, 0, 0, 0],\r\n  'Manga': [0, 0, 0, 1, 0],\r\n  'Napping': [0, 0, 0, 0, 0],\r\n  'Oranges': [0, 0, 0, 0, 1],\r\n  'Pineapples': [0, 0, 0, 0, 1],\r\n  'Queso': [0, 0, 0, 0, 1],\r\n  'Rocket League': [0, 1, 1, 1, 0],\r\n  'Salad': [0, 0, 0, 0, 1],\r\n  'Snapchat': [0, 0, 1, 1, 0],\r\n  'Television': [0, 0, 0, 1, 0],\r\n  'Unicorns': [1, 0, 0, 1, 0],\r\n  'Volleyball': [0, 1, 0, 0, 0],\r\n  'Wood': [0, 1, 0, 0, 0],\r\n  'Xylophones': [0, 0, 0, 1, 0],\r\n  'Yelling': [0, 1, 0, 0, 0],\r\n  'Zzzzz': [0, 0, 0, 0, 0]\r\n};\r\n\r\nconst options = [\r\n  { value: 'chocolate', label: 'Left part of US' },\r\n  { value: 'strawberry', label: 'Right part of US' },\r\n  { value: 'vanilla', label: 'Top part of US' },\r\n  { value: 'orange', label: 'Bottom part of US' }\r\n];\r\n\r\nvar optionsInterests = [];\r\nfor (var v in interests) {\r\n  optionsInterests.push({value: v, label: v});\r\n}\r\nconsole.log(optionsInterests);\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <TopNavBar />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\nclass TopNavBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      signed: false,\r\n      photo: null\r\n    };\r\n    if (firebase.auth().currentUser) {\r\n      this.state = {\r\n        signed: true\r\n      };\r\n    }\r\n    document.title = \"JustAmity\";\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.setState({\r\n          signed: true,\r\n          photo: firebase.auth().currentUser.photoURL,\r\n          stateFetched: true\r\n        });\r\n        var contacts = firebase.database().ref('users/' + firebase.auth().currentUser.uid + '/contacts');\r\n        contacts.on('value', (snapshot) => {\r\n          var unreads = 0;\r\n          for (var v in snapshot.val()) {\r\n            if (snapshot.val()[v].unread) {\r\n              unreads += 1;\r\n            }\r\n          }\r\n          this.setState({\r\n            unreads: unreads\r\n          });\r\n        });\r\n      } else {\r\n        this.setState({\r\n          signed: false,\r\n          photo: null,\r\n          stateFetched: true\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  logout = (event) => {\r\n    firebase.auth().signOut();\r\n    this.setState({\r\n      signed: false,\r\n      photo: null,\r\n      stateFetched: false\r\n    });\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    document.body.style.overflow = 'auto';\r\n    return (<Router>\r\n      <main>\r\n        <nav class=\"top-scroll\">\r\n          <Link to=\"/\"><img class=\"title-img\" src={logo2}/></Link>\r\n          <div class=\"links-div\">\r\n            <div class=\"links-div-link-div\">\r\n              <a class=\"links-div-link\"><Link to=\"/\">home</Link></a>\r\n              <a class=\"links-div-link\"><Link to=\"/about\">about</Link></a>\r\n              <a class=\"links-div-link\"><Link to=\"/contact\">contact</Link></a>\r\n            </div>\r\n            {!this.state.signed && this.state.stateFetched &&\r\n              <Link to=\"/login\"><img class=\"head-img\" src={head}/></Link>\r\n            }\r\n          </div>\r\n\r\n          {this.state.signed &&\r\n            <div class=\"profile-div\">\r\n              <Link to=\"/messages\">\r\n                <div class=\"symbol\">\r\n                  <Icon name=\"mail outline\" size='big'/>\r\n                  {this.state.unreads > 0 && (\r\n                    <div class=\"notification-bubble\">\r\n                      <p class=\"notification-bubble-text\">{this.state.unreads}</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </Link>\r\n              <Link class='grey' to=\"/profile\">\r\n                <img class=\"profile-img-head\" src={this.state.photo}/>\r\n                <p class=\"profile-top-right-name\">{firebase.auth().currentUser.displayName}</p>\r\n              </Link>\r\n            </div>\r\n          }\r\n        </nav>\r\n\r\n      <Route path=\"/\" exact component={Home} />\r\n      <Route path=\"/justamity\" exact component={Home} />\r\n      <Route path=\"/about\"  component={About} />\r\n      <Route path=\"/contact\"  component={Contact} />\r\n      <Route path=\"/profile\"  component={Profile} />\r\n      <Route path=\"/messages\"  component={Messages} />\r\n      <Route path=\"/login\"  component={Login} />\r\n      <Route path=\"/logout\"  component={Logout} />\r\n      </main>\r\n  </Router>)\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n  componentWillUnmount() {\r\n  }\r\n}\r\n\r\nclass Home extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      signed: false,\r\n      photo: null\r\n    };\r\n    if (firebase.auth().currentUser) {\r\n      this.state = {\r\n        signed: true\r\n      };\r\n    }\r\n    document.title = \"JustAmity\";\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.setState({\r\n          signed: true,\r\n          photo: firebase.auth().currentUser.photoURL,\r\n          stateFetched: true\r\n        });\r\n      } else {\r\n        this.setState({\r\n          signed: false,\r\n          photo: null,\r\n          stateFetched: false\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"home-div\">\r\n      {this.state.signed && <Redirect to='/login'/>}\r\n        <div class=\"home-bg\">\r\n          <div class=\"home-text\">\r\n            <p class=\"slogan\">A New Way to</p>\r\n            <p class=\"slogan-bold\">CONNECT</p>\r\n            <p class =\"slogan-under\">Staying home for the semester?<br/>Feeling lonely and bored?</p>\r\n            <img class=\"home-img\"/>\r\n            <div class=\"horizontal-right\">\r\n                <Link to=\"/login\"><div class=\"home-buttons-secondary\">Sign Up</div></Link>\r\n                <Link to=\"/login\"><div class=\"home-buttons-primary\">Login</div></Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"home-bg-second\">\r\n          <img class=\"home-bg-second-img\" src={homebluebg}/>\r\n        </div>\r\n        <footer>\r\n          <div class=\"footer-bg\">\r\n            <div class=\"footer-content\">\r\n              <div class=\"footer-column\">\r\n                <p class=\"footer-column-title\">Company</p>\r\n                <p class=\"footer-column-links\">About Us</p>\r\n                <p class=\"footer-column-links\">Careers</p>\r\n                <p class=\"footer-column-links\">Terms</p>\r\n                <p class=\"footer-column-links\">Privacy</p>\r\n              </div>\r\n              <div class=\"footer-column\">\r\n                <p class=\"footer-column-title\">Work With Us</p>\r\n                <p class=\"footer-column-links\">Friends</p>\r\n                <p class=\"footer-column-links\">Advertise</p>\r\n\r\n              </div>\r\n              <div class=\"footer-column\">\r\n                <p class=\"footer-column-title\">Support</p>\r\n                <p class=\"footer-column-links\">$10</p>\r\n                <p class=\"footer-column-links\">$100</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Contact extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ul>\r\n          <li>\r\n            <a href=\"https://www.facebook.com/justamity\">\r\n              <i class=\"fa fa-facebook\" aria-hidden=\"true\"></i>\r\n              <span> - Facebook</span>\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a href=\"https://www.twitter.com/just_amity\">\r\n              <i class=\"fa fa-twitter\" aria-hidden=\"true\"></i>\r\n              <span> - Twitter</span>\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a href=\"mailto:jasmine.bae@berkeley.edu\">\r\n              <i class=\"fa fa-google-plus\" aria-hidden=\"true\"></i>\r\n              <span> - Email</span>\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a href=\"https://www.instagram.com/just_amity\">\r\n              <i class=\"fa fa-instagram\" aria-hidden=\"true\"></i>\r\n              <span> - Instagram</span>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Profile extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      authenticated: false,\r\n      uid: null,\r\n      friends: 0,\r\n      match: null\r\n    };\r\n\r\n\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        var user = firebase.auth().currentUser;\r\n        var users = firebase.database().ref('users/' + user.uid);\r\n        users.on('value', (snapshot) => {\r\n          if (!snapshot.exists()) {\r\n            var randomColor = (function lol(m, s, c) {\r\n                            return s[m.floor(m.random() * s.length)] +\r\n                                (c && lol(m, s, c - 1));\r\n                        });\r\n            database.ref('users/' + user.uid).set({\r\n              display_name: user.displayName,\r\n              email: user.email,\r\n              profile_picture : user.photoURL,\r\n              uid: user.uid,\r\n              active_chat: 'test',\r\n              interests: [['Cats', [1, 0, 1, 0, 0]]],\r\n              bearing: [1, 0, 1, 0, 0],\r\n              color: '#' + randomColor(Math, '356789ABCDEF', 4)\r\n            });\r\n            database.ref('bearings/').update({\r\n              [user.uid]: [1, 0, 1, 0, 0]\r\n            });\r\n            database.ref('users/' + user.uid + '/contacts/test').set({\r\n              messages: [['test', 'Hi, welcome to Amity. Friendships start here.']]\r\n            });\r\n            database.ref('users/' + 'test' + '/contacts/' + user.uid).set({\r\n              messages: [['test', 'Hi, welcome to Amity. Friendships start here.']]\r\n            });\r\n            database.ref('profiles/' + user.uid).set({\r\n              display_name: user.displayName,\r\n              email: user.email,\r\n              profile_picture : user.photoURL,\r\n              uid: user.uid,\r\n              active_chat: 'test'\r\n            }).then(() => {\r\n              this.setState({\r\n                authenticated: true,\r\n                user: user,\r\n                uid: user.uid,\r\n                friends: Object.keys(snapshot.val().contacts).length - 1,\r\n                location: \"Left part of US\"\r\n              });\r\n            });\r\n          } else {\r\n            database.ref('bearings/' + user.uid).once('value', (sp) => {\r\n              if (!sp.exists()) {\r\n                database.ref('bearings/').update({\r\n                  [user.uid]: [0, 0, 0, 0, 0]\r\n                });\r\n              }\r\n            });\r\n            var d = new Date();\r\n            var n = d.toString(); \r\n            database.ref('users/' + user.uid).update({\r\n              last_login: n\r\n            });\r\n\r\n            var interests = [];\r\n            for (var v in snapshot.val().interests) {\r\n              interests.push({value: snapshot.val().interests[v][0], label: snapshot.val().interests[v][0]});\r\n            }\r\n            this.setState({\r\n              authenticated: true,\r\n              user: user,\r\n              uid: user.uid,\r\n              friends: Object.keys(snapshot.val().contacts).length - 1,\r\n              location: snapshot.val().location,\r\n              contacts: snapshot.val().contacts,\r\n              interests: interests,\r\n              bearing: snapshot.val().bearing,\r\n              color: snapshot.val().color\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        this.setState({\r\n          authenticated: false\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  match = () => {\r\n    database.ref('matches').once('value').then((snapshot) => {\r\n      var potentialFriends = snapshot.val();\r\n      var match = null;\r\n      var distance = 1000;\r\n      var allRef = database.ref('bearings/');\r\n      allRef.once('value').then((snapshot3) => {\r\n        var all = snapshot3.val();\r\n        for (var ing = 0; ing < potentialFriends.length; ing++) {\r\n          if (!(potentialFriends[ing] === this.state.uid)) {\r\n            if (!(potentialFriends[ing] in this.state.contacts)) {\r\n              if (all[potentialFriends[ing]]) {\r\n                var score = 0;\r\n                var sum1 = 1;\r\n                var sum2 = 1;\r\n                for (var v in all[potentialFriends[ing]]) {\r\n                  sum1 += all[potentialFriends[ing]][v];\r\n                }\r\n                for (var v in this.state.bearing) {\r\n                  sum2 += this.state.bearing[v];\r\n                }\r\n                for (var v in all[potentialFriends[ing]]) {\r\n                  score += (all[potentialFriends[ing]][v]/sum1 - this.state.bearing[v]/sum2) ** 2;\r\n                }\r\n                console.log(\"Friend distance score: \" + score);\r\n                if (score < distance) {\r\n                  distance = score;\r\n                  var match = potentialFriends[ing];\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (match) {\r\n          database.ref('users/' + this.state.uid + '/contacts/' + match).set({\r\n            messages: [[this.state.user.uid, 'Hello']]\r\n          });\r\n          database.ref('users/' + match + '/contacts/' + this.state.user.uid).set({\r\n            messages: [[this.state.user.uid, 'Hello']]\r\n          });\r\n          if (!(this.state.match === \"yes\")) {\r\n            setTimeout(() => {\r\n              this.setState({\r\n                match: null\r\n              });\r\n            },3000);\r\n            this.setState({\r\n              match: \"yes\"\r\n            });\r\n          }\r\n        } else {\r\n          if (!(this.state.match === \"no\")) {\r\n            setTimeout(() => {\r\n              this.setState({\r\n                match: null\r\n              });\r\n            },3000);\r\n            this.setState({\r\n              match: \"no\"\r\n            });\r\n          }\r\n        }\r\n      });\r\n    });    \r\n  }\r\n\r\n  handleSelect = (e) => {\r\n    var locationRef = firebase.database().ref('profiles/' + this.state.user.uid);\r\n    locationRef.update({\r\n        location: e.label\r\n    });\r\n    var locationProfileRef = firebase.database().ref('users/' + this.state.user.uid);\r\n    locationRef.update({\r\n        location: e.label\r\n    });\r\n  }\r\n  \r\n  handleSelectInterest = (e, f) => {\r\n    if (f.action == \"remove-value\") {\r\n      for (var i in this.state.interests) {\r\n        if (this.state.interests[i] == f.removedValue) {\r\n          var interestRef = firebase.database().ref('users/' + this.state.user.uid + '/interests/' + (i));\r\n          interestRef.remove();\r\n        }\r\n      }\r\n      var bearingRef = firebase.database().ref('users/' + this.state.user.uid + '/bearing');\r\n      bearingRef.once('value').then((snapshot) => {\r\n        bearingRef.update({\r\n            0: snapshot.val()[0] - interests[f.removedValue.label][0],\r\n            1: snapshot.val()[1] - interests[f.removedValue.label][1],\r\n            2: snapshot.val()[2] - interests[f.removedValue.label][2],\r\n            3: snapshot.val()[3] - interests[f.removedValue.label][3],\r\n            4: snapshot.val()[4] - interests[f.removedValue.label][4]\r\n        });\r\n      });\r\n      var bearingRef2 = firebase.database().ref('bearings/' + this.state.user.uid);\r\n      bearingRef2.once('value').then((snapshot) => {\r\n        bearingRef2.update({\r\n            0: snapshot.val()[0] - interests[f.removedValue.label][0],\r\n            1: snapshot.val()[1] - interests[f.removedValue.label][1],\r\n            2: snapshot.val()[2] - interests[f.removedValue.label][2],\r\n            3: snapshot.val()[3] - interests[f.removedValue.label][3],\r\n            4: snapshot.val()[4] - interests[f.removedValue.label][4]\r\n        });\r\n      });\r\n      this.setState({\r\n        interests: e\r\n      });\r\n      var out = [];\r\n      for (var i in e) {\r\n        out.push([e[i].label, interests[e[i].label]]);\r\n      }\r\n      var interestRef2 = firebase.database().ref('users/' + this.state.user.uid + '/interests');\r\n      if (out) {\r\n        interestRef2.remove();\r\n        interestRef2.set(out);\r\n      } else {\r\n        interestRef2.remove();\r\n      }\r\n\r\n    } else {\r\n      this.setState({\r\n        interests: e\r\n      })\r\n      var interestRef = firebase.database().ref('users/' + this.state.user.uid + '/interests');\r\n      interestRef.once('value').then((snapshot) => {\r\n        interestRef.update({\r\n            [snapshot.val() ? snapshot.val().length : 0]: [e[e.length - 1].label, interests[e[e.length - 1].label]]\r\n        });\r\n      });\r\n      var bearingRef = firebase.database().ref('users/' + this.state.user.uid + '/bearing');\r\n      var bearingRef2 = firebase.database().ref('bearings/' + this.state.user.uid);\r\n      bearingRef.once('value').then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n          bearingRef.update({\r\n              0: snapshot.val()[0] + interests[e[e.length - 1].label][0],\r\n              1: snapshot.val()[1] + interests[e[e.length - 1].label][1],\r\n              2: snapshot.val()[2] + interests[e[e.length - 1].label][2],\r\n              3: snapshot.val()[3] + interests[e[e.length - 1].label][3],\r\n              4: snapshot.val()[4] + interests[e[e.length - 1].label][4]\r\n          });\r\n          bearingRef2.update({\r\n              0: snapshot.val()[0] + interests[e[e.length - 1].label][0],\r\n              1: snapshot.val()[1] + interests[e[e.length - 1].label][1],\r\n              2: snapshot.val()[2] + interests[e[e.length - 1].label][2],\r\n              3: snapshot.val()[3] + interests[e[e.length - 1].label][3],\r\n              4: snapshot.val()[4] + interests[e[e.length - 1].label][4]\r\n          });\r\n        } else {\r\n          bearingRef.update({\r\n              0: interests[e[e.length - 1].label][0],\r\n              1: interests[e[e.length - 1].label][1],\r\n              2: interests[e[e.length - 1].label][2],\r\n              3: interests[e[e.length - 1].label][3],\r\n              4: interests[e[e.length - 1].label][4]\r\n          });\r\n          bearingRef2.update({\r\n            0: interests[e[e.length - 1].label][0],\r\n            1: interests[e[e.length - 1].label][1],\r\n            2: interests[e[e.length - 1].label][2],\r\n            3: interests[e[e.length - 1].label][3],\r\n            4: interests[e[e.length - 1].label][4]\r\n          });\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n  \r\n  tags = (lst) => {\r\n    var ret = [];\r\n    for (var x in lst) {\r\n      ret.push(\r\n        <Label style={{width: \"auto\", margin: \"2px\"}}>\r\n          <Icon name=\"user\" />\r\n          {lst[x]}\r\n          <Icon name=\"close\" />\r\n        </Label>\r\n      )\r\n    }\r\n    return ret\r\n  }\r\n  \r\n  handleColorClick = () => {\r\n    this.setState({ displayColorPicker: !this.state.displayColorPicker })\r\n  };\r\n\r\n  handleColorClose = () => {\r\n    this.setState({ displayColorPicker: false })\r\n  };\r\n  \r\n  handleColorSelect = (color, event) => {\r\n    var colorRef = firebase.database().ref('profiles/' + this.state.user.uid);\r\n    colorRef.update({\r\n      color: color.hex\r\n    });\r\n    var colorRef2 = firebase.database().ref('users/' + this.state.user.uid);\r\n    colorRef2.update({\r\n      color: color.hex\r\n    });\r\n    this.setState({\r\n      color: color.hex\r\n    });\r\n    console.log(color.hex)\r\n  }\r\n\r\n  render() {\r\n    if (firebase.auth().currentUser) {\r\n      return (\r\n        <div>\r\n          <div class=\"profile-container\">\r\n            <div class=\"profile-left\">\r\n              <img class=\"profile-img\" src={\"https://ui-avatars.com/api/?length=1&background=\" + (this.state.color ? this.state.color.substring(1): this.state.color) + \"&color=fff&size=256&bold=true&name=\" + firebase.auth().currentUser.displayName.split(\" \")[0]}/>\r\n              <Header as=\"h2\">{firebase.auth().currentUser.displayName}</Header>\r\n              <div class=\"vertical\" style={{margin: \"10px\"}}>\r\n                <Statistic color='teal' size='mini'>\r\n                  <Statistic.Label>Member since</Statistic.Label>\r\n                  <Statistic.Value>Jan '20</Statistic.Value>\r\n                </Statistic>\r\n              </div>\r\n              <button onClick={f => firebase.auth().signOut()}>Logout</button>\r\n            </div>\r\n            {this.state.match && this.state.match === \"yes\" &&\r\n              (<div class=\"footer-toast\" ref=\"toast-friend\">\r\n                <div class=\"toast\">\r\n                  🦄 You made a friend! 🦄\r\n                </div>\r\n              </div>)\r\n            }\r\n            {this.state.match && this.state.match === \"no\" &&\r\n              (<div class=\"footer-toast\" ref=\"toast-no-friend\">\r\n                <div class=\"toast-red\">\r\n                  😥 No friends found. 😥\r\n                </div>\r\n              </div>)\r\n            }\r\n            <div class=\"profile-right\">\r\n              <div class=\"friends\">\r\n                <p class=\"profile-friends-title\">Friends</p>\r\n                <p class=\"profile-friends-count\">You currently have {this.state.friends} friend{this.state.friends != 1 && 's'}.</p>\r\n                <Progress data-tip=\"Your friend making energy<br>meter is recharging.\" percent={56} progress style={{margin: \"10px 0px\"}}/>\r\n                <ReactTooltip place=\"bottom\" effect=\"solid\" offset={{top: 0, right: 75}} multiline=\"true\" />\r\n                <button onClick={this.match} style={{width: \"150px\"}}><Icon name='user' />Make friend</button>\r\n              </div>\r\n              <div>\r\n                <p class=\"profile-friends-title\">Profile</p>\r\n                <p class=\"profile-property-title\">Location</p>\r\n                {this.state.location &&\r\n                <Select\r\n                  onChange={this.handleSelect}\r\n                  options={options}\r\n                  defaultValue={{ label: this.state.location, value: 1 }}\r\n                />}\r\n                {!this.state.location &&\r\n                <Select\r\n                  onChange={this.handleSelect}\r\n                  options={options}\r\n                  defaultValue={{ label: \"None\", value: 1 }}\r\n                />}\r\n                <p class=\"profile-property-title\">Profile Color</p>\r\n                <div class='color-display'>\r\n                  <button style={{backgroundColor: this.state.color}} onClick={ this.handleColorClick }>Edit Color</button>\r\n                  { this.state.displayColorPicker ? <div>\r\n                    <div onClick={ this.handleColorClose }/>\r\n                      <TwitterPicker onChange={this.handleColorSelect} triangle=\"hide\"/>\r\n                    </div> : null }\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"profile-right-right\">\r\n              <div class=\"friends\">\r\n                <p class=\"profile-friends-title\">Interests</p>\r\n                <Select\r\n                  isMulti\r\n                  className=\"basic-multi-select\"\r\n                  classNamePrefix=\"select\"\r\n                  onChange={this.handleSelectInterest}\r\n                  options={optionsInterests}\r\n                  value={this.state.interests}\r\n                  isClearable={false}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <p>No user signed in.</p>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n}\r\n\r\nclass Messages extends React.Component {\r\n  colors = true;\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      authenticated: false,\r\n      inputValue: ''\r\n    };\r\n    var dt = new Date();\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        var user = firebase.auth().currentUser;\r\n        var users = firebase.database().ref('users/' + user.uid);\r\n        users.once('value').then((snapshot0) => {\r\n          firebase.database().ref('/profiles').once('value').then((data) => {\r\n            this.setState({\r\n              profiles: data.val()\r\n            });\r\n            firebase.database().ref('/users/' + snapshot0.val().active_chat).once('value').then((snapshot) => {\r\n              users.on('value', (snapshot2) => {\r\n                this.setState({\r\n                  contactObj: snapshot.val(),\r\n                  contactRef: snapshot2.val().contacts[snapshot2.val().active_chat],\r\n                  authenticated: true,\r\n                  user: snapshot2.val()\r\n                });\r\n                if (this.colors) {\r\n                  for (var contact in snapshot2.val().contacts) {\r\n                    this.setState({\r\n                      [contact]: data.val()[contact].color ? data.val()[contact].color.substring(1) : this.randomColor(Math, '356789ABCDEF', 4)\r\n                    });\r\n                  }\r\n                  this.colors = false;\r\n                }\r\n              });\r\n            });\r\n          });\r\n      });\r\n      firebase.database().ref('users/' + user.uid + '/active_chat').on('value', (snapshot) => {\r\n        this.setState({\r\n          activeChat: snapshot.val()\r\n        });\r\n      });\r\n\r\n\r\n      } else {\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  renderChatListItem = (contact) => {\r\n    var lastMessage = this.state.user.contacts[contact].messages[Object.keys(this.state.user.contacts[contact].messages).length - 1];\r\n    var unread = this.state.user.contacts[contact].unread;\r\n    return (<div onMouseOver={this.readMessage} class={this.state.activeChat === contact ? \"chat-list-item-active\" : \"chat-list-item\"} onClick={() => {firebase.database().ref('users/' + this.state.user.uid).update({active_chat: contact});}}>\r\n      <img class=\"chat-list-item-profile\" src={\"https://ui-avatars.com/api/?length=1&background=\" + (this.state[contact] ? this.state[contact] : \"#000\") + \"&color=fff&bold=true&name=\" + this.state.profiles[contact].display_name.split(\" \")[0]}/>\r\n      <div class=\"chat-list-item-text\">\r\n        <p class={!unread ? \"chat-list-item-name\" : \"chat-list-item-name-unread\"}>{this.state.profiles[contact].display_name.split(\" \")[0]}</p>\r\n        <p class={!unread ? \"chat-list-item-message\" : \"chat-list-item-message-unread\"}>{lastMessage ? lastMessage[1] : \"\"}</p>\r\n      </div>\r\n    </div>);\r\n  }\r\n\r\n  randomPhrase= () => {\r\n    var song = Array(\"Hey whats up\", \"Haha thats really funny!\", \"That sounds really fun!\", \"Tfw when you are a cat\", \"Hello!\", \"Do you want to go get boba\", \"Yoooo uwu\", \"LOL\", \"Yes!\", \"Sorry I am busy. :(\", \"How are you doing?\", \"That's really cool!\", \"What do you think?\", \"LOL im in\");\r\n    return song[Math.floor(Math.random() * song.length)];\r\n  }\r\n\r\n  randomName= () => {\r\n    var song = Array(\"John\", \"Jack\", \"Emma\", \"James\", \"Sarah\", \"Ronny\", \"Alex\", \"Jocelyn\", \"Bode\", \"Boser\", \"Gireeja\", \"Eva\", \"Evelyn\", \"Tom\", \"Hanna\", \"Jenny\", \"Kaley\", \"Helen\", \"Helena\", \"Amy\", \"Athena\", \"Bill\", \"Melinda\");\r\n    return song[Math.floor(Math.random() * song.length)];\r\n  }\r\n\r\n  randomColor = (function lol(m, s, c) {\r\n                  return s[m.floor(m.random() * s.length)] +\r\n                      (c && lol(m, s, c - 1));\r\n              });\r\n\r\n  renderFakeChatListItem = () => {\r\n    var lastMessage = this.randomPhrase();\r\n    var name = this.randomName();\r\n    var unread = false;\r\n    var color = this.randomColor(Math, '356789ABCDEF', 4);\r\n    return (<div class=\"chat-list-item\">\r\n      <img class=\"chat-list-item-profile\" src={\"https://ui-avatars.com/api/?length=1&background=\" + color + \"&color=fff&bold=true&name=\" + name}/>\r\n      <div class=\"chat-list-item-text\">\r\n        <p class={!unread ? \"chat-list-item-name\" : \"chat-list-item-name-unread\"}>{name}</p>\r\n        <p class={!unread ? \"chat-list-item-message\" : \"chat-list-item-message-unread\"}>{lastMessage ? lastMessage : \"\"}</p>\r\n      </div>\r\n    </div>);\r\n  }\r\n\r\n  contactObj = (id) => {\r\n    return firebase.database().ref('/users/' + id).once('value');\r\n  }\r\n\r\n  renderChatList = () => {\r\n    const chats = [];\r\n    for (var contact in this.state.user.contacts) {\r\n      chats.push(this.renderChatListItem(contact));\r\n    }\r\n    return chats;\r\n  }\r\n\r\n  writeUserMessage = (contact, message) => {\r\n    var messageRef = firebase.database().ref('users/' + this.state.user.uid + '/contacts/' + contact + '/messages/' + this.state.user.contacts[contact].messages.length);\r\n    messageRef.set({\r\n        0: this.state.user.uid,\r\n        1: message\r\n    });\r\n    var messageRefRecipient = firebase.database().ref('users/' + contact + '/contacts/' + this.state.user.uid + '/messages/' + this.state.user.contacts[contact].messages.length);\r\n    messageRefRecipient.set({\r\n        0: this.state.user.uid,\r\n        1: message\r\n    });\r\n    var messageRefRecipient = firebase.database().ref('users/' + contact + '/contacts/' + this.state.user.uid);\r\n    messageRefRecipient.update({\r\n        unread: true\r\n    });\r\n  }\r\n\r\n  updateInputValue(evt) {\r\n    this.setState({\r\n      inputValue: evt.target.value\r\n    });\r\n  }\r\n\r\n  onKeyDown = (event: React.KeyboardEvent<HTMLDivElement>): void => {\r\n      if (event.key === 'Enter') {\r\n        if (this.state.inputValue) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          this.writeUserMessage(this.state.activeChat, this.state.inputValue);\r\n          this.setState({\r\n            inputValue: ''\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n  readMessage = (contact) => {\r\n    if (contact) {\r\n      var unreadRef = firebase.database().ref('users/' + this.state.user.uid + '/contacts/' + this.state.activeChat);\r\n      unreadRef.update({\r\n          unread: false\r\n      });\r\n    }\r\n  }\r\n\r\n  isIterable(obj) {\r\n  // checks for null and undefined\r\n    if (obj == null) {\r\n      return false;\r\n    }\r\n    return typeof obj[Symbol.iterator] === 'function';\r\n  }\r\n\r\n  renderChatFocus = (contact) => {\r\n    const messages = [];\r\n    if (this.isIterable(this.state.contactRef.messages)) {\r\n      for (let message of this.state.contactRef.messages) {\r\n        if (message[0] === firebase.auth().currentUser.uid) {\r\n          messages.push(\r\n          <div class=\"chat-focus-bottom-right-outer\">\r\n            <div class=\"chat-focus-bottom-right\">\r\n              <p class=\"chat-focus-bottom-message-right\">{message[1]}</p>\r\n            </div>\r\n          </div>);\r\n        } else {\r\n          messages.push(\r\n          <div class=\"chat-focus-bottom-left-outer\">\r\n            <div class=\"chat-focus-bottom-left\">\r\n              <p class=\"chat-focus-bottom-message-left\">{message[1]}</p>\r\n            </div>\r\n          </div>);\r\n        }\r\n      }\r\n    }\r\n    return (\r\n      <div class=\"chat-focus\" onMouseOver={this.readMessage}>\r\n        <div class=\"chat-focus-top\">\r\n          <img class=\"chat-focus-top-profile\" src={\"https://ui-avatars.com/api/?length=1&background=\" + this.state[contact] + \"&color=fff&bold=true&name=\" + this.state.profiles[contact].display_name.split(\" \")[0]}/>\r\n          <div class=\"chat-focus-top-text\">\r\n            <p class=\"chat-focus-top-name\">{this.state.profiles[this.state.activeChat].display_name.split(\" \")[0]}</p>\r\n            <p class=\"chat-focus-top-desc\">{this.state.profiles[this.state.activeChat].location}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"chat-focus-messages\">\r\n          {messages}\r\n          <div ref={(el) => { this.el = el; }} />\r\n        </div>\r\n        <div class=\"chat-focus-type\">\r\n          <input value={this.state.inputValue} onChange={evt => this.updateInputValue(evt)} onKeyDown={this.onKeyDown} placeholder=\"Type a message\" class=\"chat-focus-type-input\"/>\r\n        </div>\r\n      </div>);\r\n  }\r\n\r\n  renderSuggestions = () => {\r\n    return (\r\n      <div class=\"chat-suggestions-div\">\r\n        <img class=\"chat-suggestion-img\" src=\"http://www.topdesignmag.com/wp-content/uploads/2012/05/5.-vintage-newspaper-ad.jpg\"></img>\r\n        <img class=\"chat-suggestion-img\" src=\"https://i.pinimg.com/originals/0b/5f/67/0b5f6794c6c32f7c94cffd8f68d1a325.jpg\"></img>\r\n        <img class=\"chat-suggestion-img\" src=\"https://c2.staticflickr.com/2/1593/25044909010_90d6a29099_b.jpg\"></img>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    document.body.style.overflow = 'hidden';\r\n    return (\r\n      <div class=\"horizontal\">\r\n        <div class=\"chat-list\">\r\n          {this.state.authenticated && this.renderChatList()}\r\n        </div>\r\n        {this.state.authenticated && this.renderChatFocus(this.state.activeChat)}\r\n        {this.state.authenticated && this.renderSuggestions()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  scrollToBottom() {\r\n    this.el.scrollIntoView({ behavior: 'auto', block: 'nearest', inline: 'start' });\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.el) {\r\n      this.scrollToBottom();\r\n    }\r\n  }\r\n}\r\n\r\nclass About extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div class=\"about-top-div\">\r\n          <p class=\"about-title\">Coming Soon</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Login extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      authenticated: false\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {!this.state.authenticated && <SignIn />}\r\n        {this.state.authenticated && <Redirect to=\"/messages\" />}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.setState({\r\n          authenticated: true\r\n        });\r\n      } else {\r\n        this.setState({\r\n          authenticated: false\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nclass Logout extends React.Component {\r\n  render() {\r\n    return (<div>\r\n    <Redirect to=\"/justamity\"/>\r\n    </div>\r\n  )\r\n  }\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}